#--------------------------------------------------------------------
# PERBAIKAN E-ARSIP - Environment Configuration
#--------------------------------------------------------------------
# File ini sudah diperbaiki untuk mengatasi masalah redirect ke localhost
# Pastikan file ini diubah namanya menjadi .env (tanpa extension)
#--------------------------------------------------------------------

#--------------------------------------------------------------------
# ENVIRONMENT
#--------------------------------------------------------------------
# Ubah ke production saat deploy ke server live
CI_ENVIRONMENT = development
app.baseURL = 'https://live-production-ekerjaku-app.j2p2tu.easypanel.host/'

#--------------------------------------------------------------------
# APP
#--------------------------------------------------------------------
# PENTING: Kosongkan baseURL agar otomatis detect domain
# Jika ingin spesifik, isi dengan domain lengkap Anda
# Contoh: app.baseURL = 'https://yourdomain.com/'
app.baseURL = ''

# Force HTTPS (ubah ke true saat production dengan SSL)
app.forceGlobalSecureRequests = false

# CSP (Content Security Policy)
app.CSPEnabled = false

#--------------------------------------------------------------------
# DATABASE
#--------------------------------------------------------------------
# Sesuaikan dengan konfigurasi database Anda
database.default.hostname = ekerja_almi_db
database.default.database = e_arsip_ci4
database.default.username = arif
database.default.password = 2LTJt)BtY9cGuW(&
database.default.DBDriver = MySQLi
database.default.DBPrefix =
database.default.port = 3306

#--------------------------------------------------------------------
# ENCRYPTION
#--------------------------------------------------------------------
# Generate key dengan: php spark key:generate
# Atau gunakan: bin2hex(random_bytes(32))
# encryption.key = YOUR-ENCRYPTION-KEY-HERE

#--------------------------------------------------------------------
# SESSION
#--------------------------------------------------------------------
# Konfigurasi session untuk keamanan lebih baik
session.driver = 'CodeIgniter\Session\Handlers\FileHandler'
session.cookieName = 'ci_session'
session.expiration = 7200
session.savePath = null
session.matchIP = false
session.timeToUpdate = 300
session.regenerateDestroy = false

#--------------------------------------------------------------------
# LOGGER
#--------------------------------------------------------------------
# 0 = Emergency, 1 = Alert, 2 = Critical, 3 = Error
# 4 = Warning, 5 = Notice, 6 = Info, 7 = Debug, 8 = All Messages, 9 = Off
logger.threshold = 4

#--------------------------------------------------------------------
# SECURITY
#--------------------------------------------------------------------
# Tambahan konfigurasi keamanan
security.csrfProtection = 'session'
security.tokenRandomize = false
security.tokenName = 'csrf_token_name'
security.headerName = 'X-CSRF-TOKEN'
security.cookieName = 'csrf_cookie_name'
security.expires = 7200
security.regenerate = true
security.redirect = true
security.samesite = 'Lax'
